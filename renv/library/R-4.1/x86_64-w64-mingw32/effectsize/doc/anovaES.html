<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Effect sizes for ANOVAs</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Effect sizes for ANOVAs</h1>


<div id="TOC">
<ul>
<li><a href="#eta2">Eta<sup>2</sup></a>
<ul>
<li><a href="#adding-more-terms">Adding More Terms</a></li>
<li><a href="#adding-interactions">Adding Interactions</a></li>
</ul></li>
<li><a href="#other-measures-of-effect-size">Other Measures of Effect Size</a>
<ul>
<li><a href="#unbiased-effect-sizes">Unbiased Effect Sizes</a></li>
<li><a href="#generalized-eta2">Generalized Eta<sup>2</sup></a></li>
<li><a href="#cohens-f">Cohen’s <em>f</em></a></li>
</ul></li>
<li><a href="#when-sum-of-squares-are-hard-to-come-by">When Sum-of-Squares are Hard to Come By</a></li>
<li><a href="#references">References</a></li>
</ul>
</div>

<div id="eta2" class="section level1">
<h1>Eta<sup>2</sup></h1>
<p>In the context of ANOVA-like tests, it is common to report ANOVA-like effect sizes. Unlike <a href="https://easystats.github.io/effectsize/articles/standardize_parameters.html">standardized parameters</a>, these effect sizes represent the amount of variance explained by each of the model’s terms, where each term can be represented by 1 <em>or more</em> parameters.</p>
<p>For example, in the following case, the parameters for the <code>treatment</code> term represent specific contrasts between the factor’s levels (treatment groups) - the difference between each level and the reference level (<code>obk.long == &#39;control&#39;</code>).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(obk.long, <span class="at">package =</span> <span class="st">&quot;afex&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># modify the data slightly for the demonstration:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>obk.long <span class="ot">&lt;-</span> obk.long[<span class="dv">1</span><span class="sc">:</span><span class="dv">240</span> <span class="sc">%%</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">0</span>, ]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>obk.long<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(<span class="fu">nrow</span>(obk.long))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">lm</span>(value <span class="sc">~</span> treatment, <span class="at">data =</span> obk.long)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>parameters<span class="sc">::</span><span class="fu">model_parameters</span>(m)</span></code></pre></div>
<pre><code>&gt; Parameter     | Coefficient |   SE |       95% CI | t(77) |      p
&gt; ------------------------------------------------------------------
&gt; (Intercept)   |        4.28 | 0.36 | [3.56, 5.00] | 11.85 | &lt; .001
&gt; treatment [A] |        1.97 | 0.54 | [0.89, 3.05] |  3.64 | &lt; .001
&gt; treatment [B] |        2.09 | 0.47 | [1.15, 3.03] |  4.42 | &lt; .001</code></pre>
<p>But we can also ask about the overall effect of <code>treatment</code> - how much of the variation in our dependent variable <code>value</code> can be predicted by (or explained by) the variation between the <code>treatment</code> groups. Such a question can be answered with an ANOVA test:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>parameters<span class="sc">::</span><span class="fu">model_parameters</span>(<span class="fu">anova</span>(m))</span></code></pre></div>
<pre><code>&gt; Parameter | Sum_Squares | df | Mean_Square |     F |      p
&gt; -----------------------------------------------------------
&gt; treatment |       72.23 |  2 |       36.11 | 11.08 | &lt; .001
&gt; Residuals |      250.96 | 77 |        3.26 |       |       
&gt; 
&gt; Anova Table (Type 1 tests)</code></pre>
<p>As we can see, the variance in <code>value</code> (the <em>sums-of-squares</em>, or <em>SS</em>) has been split into pieces:</p>
<ul>
<li>The part associated with <code>treatment</code>.</li>
<li>The unexplained part (The Residual-<em>SS</em>).</li>
</ul>
<p>We can now ask what is the percent of the total variance in <code>value</code> that is associated with <code>treatment</code>. This measure is called Eta-squared (written as <span class="math inline">\(\eta^2\)</span>):</p>
<p><span class="math display">\[
\eta^2 = \frac{SS_{effect}}{SS_{total}} = \frac{72.23}{72.23 + 250.96} = 0.22
\]</span></p>
<p>and can be accessed via the <code>eta_squared()</code> function:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effectsize)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(m, <span class="at">partial =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>&gt; # Effect Size for ANOVA (Type I)
&gt; 
&gt; Parameter | Eta2 |       90% CI
&gt; -------------------------------
&gt; treatment | 0.22 | [0.09, 0.34]</code></pre>
<div id="adding-more-terms" class="section level2">
<h2>Adding More Terms</h2>
<p>When we add more terms to our model, we can ask two different questions about the percent of variance explained by a predictor - how much variance is accounted by the predictor in <em>total</em>, and how much is accounted when <em>controlling</em> for any other predictors. The latter questions is answered by the <em>partial</em>-Eta squared (<span class="math inline">\(\eta^2_p\)</span>), which is the percent of the <strong>partial</strong> variance (after accounting for other predictors in the model) associated with a term:</p>
<p><span class="math display">\[
\eta^2_p = \frac{SS_{effect}}{SS_{effect} + SS_{error}}
\]</span> which can also be accessed via the <code>eta_squared()</code> function:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">lm</span>(value <span class="sc">~</span> gender <span class="sc">+</span> phase <span class="sc">+</span> treatment, <span class="at">data =</span> obk.long)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(m, <span class="at">partial =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>&gt; # Effect Size for ANOVA (Type I)
&gt; 
&gt; Parameter |     Eta2 |       90% CI
&gt; -----------------------------------
&gt; gender    |     0.03 | [0.00, 0.12]
&gt; phase     | 9.48e-03 | [0.00, 0.05]
&gt; treatment |     0.25 | [0.11, 0.37]</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(m) <span class="co"># partial = TRUE by default</span></span></code></pre></div>
<pre><code>&gt; # Effect Size for ANOVA (Type I)
&gt; 
&gt; Parameter | Eta2 (partial) |       90% CI
&gt; -----------------------------------------
&gt; gender    |           0.04 | [0.00, 0.13]
&gt; phase     |           0.01 | [0.00, 0.07]
&gt; treatment |           0.26 | [0.12, 0.38]</code></pre>
<p><em>(<code>phase</code> is a repeated-measures variable, but for simplicity it is not modeled as such.)</em></p>
<p>In the calculation above, the <em>SS</em>s were computed sequentially - that is the <em>SS</em> for <code>phase</code> is computed after controlling for <code>gender</code>, and the <em>SS</em> for <code>treatment</code> is computed after controlling for both <code>gender</code> and <code>phase</code>. This method of sequential <em>SS</em> is called also <em>type-I</em> test. If this is what you want, that’s great - however in many fields (and other statistical programs) it is common to use “simultaneous” sums of squares (<em>type-II</em> or <em>type-III</em> tests), where each <em>SS</em> is computed controlling for all other predictors, regardless of order. This can be done with <code>car::Anova(type = ...)</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(car<span class="sc">::</span><span class="fu">Anova</span>(m, <span class="at">type =</span> <span class="dv">2</span>), <span class="at">partial =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>&gt; # Effect Size for ANOVA (Type II)
&gt; 
&gt; Parameter |     Eta2 |       90% CI
&gt; -----------------------------------
&gt; gender    |     0.05 | [0.00, 0.16]
&gt; phase     | 9.22e-03 | [0.00, 0.05]
&gt; treatment |     0.24 | [0.11, 0.37]</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(car<span class="sc">::</span><span class="fu">Anova</span>(m, <span class="at">type =</span> <span class="dv">3</span>)) <span class="co"># partial = TRUE by default</span></span></code></pre></div>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter | Eta2 (partial) |       90% CI
&gt; -----------------------------------------
&gt; gender    |           0.07 | [0.01, 0.18]
&gt; phase     |           0.01 | [0.00, 0.07]
&gt; treatment |           0.26 | [0.12, 0.38]</code></pre>
<p><span class="math inline">\(\eta^2_p\)</span> will always be larger than <span class="math inline">\(\eta^2\)</span>. The idea is to simulate the effect size in a design where only the term of interest was manipulated. This terminology assumes some causal relationship between the predictor and the outcome, which reflects the experimental world from which these analyses and measures hail; However, <span class="math inline">\(\eta^2_p\)</span> can also simply be seen as a <strong>signal-to-noise- ratio</strong>, as it only uses the term’s <em>SS</em> and the error-term’s <em>SS</em>.[^in repeated-measure designs the term-specific residual-<em>SS</em> is used for the computation of the effect size].</p>
<p>(Note that in a one-way fixed-effect designs <span class="math inline">\(\eta^2 = \eta^2_p\)</span>.)</p>
</div>
<div id="adding-interactions" class="section level2">
<h2>Adding Interactions</h2>
<p>Type II and type III treat interaction differently. Without going into the weeds here, keep in mind that <strong>when using type III SS, it is important to center all of the predictors</strong>; for numeric variables this can be done by mean-centering the predictors; for factors this can be done by using orthogonal coding (such as <code>contr.sum</code> for <em>effects-coding</em>) for the dummy variables (and <em>NOT</em> treatment coding, which is the default in R). This unfortunately makes parameter interpretation harder, but <em>only</em> when this is does do the <em>SS</em>s associated with each lower-order term (or lower-order interaction) represent the <strong><em>SS</em></strong> of the <strong>main effect</strong> (with treatment coding they represent the <em>SS</em> of the simple effects).</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>m_interaction1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(value <span class="sc">~</span> treatment <span class="sc">*</span> gender, <span class="at">data =</span> obk.long)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># to:</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>m_interaction2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  value <span class="sc">~</span> treatment <span class="sc">*</span> gender,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> obk.long,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">contrasts =</span> <span class="fu">list</span>(</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">treatment =</span> <span class="st">&quot;contr.sum&quot;</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender =</span> <span class="st">&quot;contr.sum&quot;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(car<span class="sc">::</span><span class="fu">Anova</span>(m_interaction1, <span class="at">type =</span> <span class="dv">3</span>))</span></code></pre></div>
<pre><code>&gt; Type 3 ANOVAs only give sensible and informative results when covariates are
&gt;   mean-centered and factors are coded with orthogonal contrasts (such as those
&gt;   produced by &#39;contr.sum&#39;, &#39;contr.poly&#39;, or &#39;contr.helmert&#39;, but *not* by the
&gt;   default &#39;contr.treatment&#39;).</code></pre>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter        | Eta2 (partial) |       90% CI
&gt; ------------------------------------------------
&gt; treatment        |           0.12 | [0.02, 0.23]
&gt; gender           |       9.11e-03 | [0.00, 0.08]
&gt; treatment:gender |           0.20 | [0.07, 0.33]</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(car<span class="sc">::</span><span class="fu">Anova</span>(m_interaction2, <span class="at">type =</span> <span class="dv">3</span>))</span></code></pre></div>
<pre><code>&gt; Type 3 ANOVAs only give sensible and informative results when covariates are
&gt;   mean-centered and factors are coded with orthogonal contrasts (such as those
&gt;   produced by &#39;contr.sum&#39;, &#39;contr.poly&#39;, or &#39;contr.helmert&#39;, but *not* by the
&gt;   default &#39;contr.treatment&#39;).</code></pre>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter        | Eta2 (partial) |       90% CI
&gt; ------------------------------------------------
&gt; treatment        |           0.27 | [0.13, 0.39]
&gt; gender           |           0.12 | [0.03, 0.24]
&gt; treatment:gender |           0.20 | [0.07, 0.33]</code></pre>
<p>If all of this type-III-effects-coding seems like a hassle, you can use the <code>afex</code> package, which takes care of all of this behind the scenes:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(afex)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>m_afex <span class="ot">&lt;-</span> <span class="fu">aov_car</span>(value <span class="sc">~</span> treatment <span class="sc">*</span> gender <span class="sc">+</span> <span class="fu">Error</span>(id), <span class="at">data =</span> obk.long)</span></code></pre></div>
<pre><code>&gt; Contrasts set to contr.sum for the following variables: treatment, gender</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(m_afex)</span></code></pre></div>
<pre><code>&gt; Type 3 ANOVAs only give sensible and informative results when covariates are
&gt;   mean-centered and factors are coded with orthogonal contrasts (such as those
&gt;   produced by &#39;contr.sum&#39;, &#39;contr.poly&#39;, or &#39;contr.helmert&#39;, but *not* by the
&gt;   default &#39;contr.treatment&#39;).</code></pre>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter        | Eta2 (partial) |       90% CI
&gt; ------------------------------------------------
&gt; treatment        |           0.27 | [0.13, 0.39]
&gt; gender           |           0.12 | [0.03, 0.24]
&gt; treatment:gender |           0.20 | [0.07, 0.33]</code></pre>
</div>
</div>
<div id="other-measures-of-effect-size" class="section level1">
<h1>Other Measures of Effect Size</h1>
<div id="unbiased-effect-sizes" class="section level2">
<h2>Unbiased Effect Sizes</h2>
<p>These effect sizes are unbiased estimators of the population’s <span class="math inline">\(\eta^2\)</span>:</p>
<ul>
<li><strong>Omega Squared</strong> (<span class="math inline">\(\omega^2\)</span>)</li>
<li><strong>Epsilon Squared</strong> (<span class="math inline">\(\epsilon^2\)</span>), also referred to as <em>Adjusted Eta Squared</em>.</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">omega_squared</span>(m_afex)</span></code></pre></div>
<pre><code>&gt; Type 3 ANOVAs only give sensible and informative results when covariates are
&gt;   mean-centered and factors are coded with orthogonal contrasts (such as those
&gt;   produced by &#39;contr.sum&#39;, &#39;contr.poly&#39;, or &#39;contr.helmert&#39;, but *not* by the
&gt;   default &#39;contr.treatment&#39;).</code></pre>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter        | Omega2 (partial) |       90% CI
&gt; --------------------------------------------------
&gt; treatment        |             0.24 | [0.10, 0.36]
&gt; gender           |             0.10 | [0.02, 0.22]
&gt; treatment:gender |             0.17 | [0.05, 0.29]</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">epsilon_squared</span>(m_afex)</span></code></pre></div>
<pre><code>&gt; Type 3 ANOVAs only give sensible and informative results when covariates are
&gt;   mean-centered and factors are coded with orthogonal contrasts (such as those
&gt;   produced by &#39;contr.sum&#39;, &#39;contr.poly&#39;, or &#39;contr.helmert&#39;, but *not* by the
&gt;   default &#39;contr.treatment&#39;).</code></pre>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter        | Epsilon2 (partial) |       90% CI
&gt; ----------------------------------------------------
&gt; treatment        |               0.25 | [0.11, 0.37]
&gt; gender           |               0.11 | [0.02, 0.23]
&gt; treatment:gender |               0.18 | [0.06, 0.30]</code></pre>
<p>Both <span class="math inline">\(\omega^2\)</span> and <span class="math inline">\(\epsilon^2\)</span> (and their partial counterparts, <span class="math inline">\(\omega^2_p\)</span> &amp; <span class="math inline">\(\epsilon^2_p\)</span>) are unbiased estimators of the population’s <span class="math inline">\(\eta^2\)</span> (or <span class="math inline">\(\eta^2_p\)</span>, respectively), which is especially important is small samples. Though <span class="math inline">\(\omega^2\)</span> is the more popular choice <span class="citation">(Albers and Lakens 2018)</span>, <span class="math inline">\(\epsilon^2\)</span> is analogous to adjusted-<span class="math inline">\(R^2\)</span> <span class="citation">(Allen 2017, 382)</span>, and has been found to be less biased <span class="citation">(Carroll and Nordholm 1975)</span>.</p>
</div>
<div id="generalized-eta2" class="section level2">
<h2>Generalized Eta<sup>2</sup></h2>
<p><em>Partial</em> Eta squared aims at estimating the effect size in a design where only the term of interest was manipulated, assuming all other terms are have also manipulated. However, not all predictors are always manipulated - some can only be observed. For such cases, we can use <em>generalized</em> Eta squared (<span class="math inline">\(\eta^2_G\)</span>), which like <span class="math inline">\(\eta^2_p\)</span> estimating the effect size in a design where only the term of interest was manipulated, accounting for the fact that some terms cannot be manipulated (and so their variance would be present in such a design).</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(m_afex, <span class="at">generalized =</span> <span class="st">&quot;gender&quot;</span>)</span></code></pre></div>
<pre><code>&gt; Type 3 ANOVAs only give sensible and informative results when covariates are
&gt;   mean-centered and factors are coded with orthogonal contrasts (such as those
&gt;   produced by &#39;contr.sum&#39;, &#39;contr.poly&#39;, or &#39;contr.helmert&#39;, but *not* by the
&gt;   default &#39;contr.treatment&#39;).</code></pre>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter        | Eta2 (generalized) |       90% CI
&gt; ----------------------------------------------------
&gt; treatment        |               0.21 | [0.08, 0.33]
&gt; gender           |               0.10 | [0.02, 0.22]
&gt; treatment:gender |               0.18 | [0.06, 0.30]
&gt; 
&gt; - Observed variabels: gender</code></pre>
<p><span class="math inline">\(\eta^2_G\)</span> is useful in repeated-measures designs, as it can estimate what a <em>within-subject</em> effect size would have been had that predictor been manipulated <em>between-subjects</em> <span class="citation">(Olejnik and Algina 2003)</span>.</p>
</div>
<div id="cohens-f" class="section level2">
<h2>Cohen’s <em>f</em></h2>
<p>Finally, we have the forgotten child - Cohen’s <span class="math inline">\(f\)</span>. Cohen’s <span class="math inline">\(f\)</span> is a transformation of <span class="math inline">\(\eta^2_p\)</span>, and is the ratio between the term-<em>SS</em> and the error-<em>SS</em>.</p>
<p><span class="math display">\[\text{Cohen&#39;s} f_p = \sqrt{\frac{\eta^2_p}{1-\eta^2_p}} = \sqrt{\frac{SS_{effect}}{SS_{error}}}\]</span></p>
<p>It can take on values between zero, when the population means are all equal, and an indefinitely large number as the means are further and further apart. It is analogous to Cohen’s <span class="math inline">\(d\)</span> when there are only two groups.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cohens_f</span>(m_afex)</span></code></pre></div>
<pre><code>&gt; Type 3 ANOVAs only give sensible and informative results when covariates are
&gt;   mean-centered and factors are coded with orthogonal contrasts (such as those
&gt;   produced by &#39;contr.sum&#39;, &#39;contr.poly&#39;, or &#39;contr.helmert&#39;, but *not* by the
&gt;   default &#39;contr.treatment&#39;).</code></pre>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter        | Cohen&#39;s f (partial) |       90% CI
&gt; -----------------------------------------------------
&gt; treatment        |                0.61 | [0.38, 0.80]
&gt; gender           |                0.37 | [0.17, 0.56]
&gt; treatment:gender |                0.50 | [0.28, 0.69]</code></pre>
</div>
</div>
<div id="when-sum-of-squares-are-hard-to-come-by" class="section level1">
<h1>When Sum-of-Squares are Hard to Come By</h1>
<p>Until now we’ve discusses effect sizes in fixed-effect linear model and repeated-measures ANOVA’s - cases where the <em>SS</em>s are readily available, and so the various effect sized presented can easily be estimated. How ever this is not always the case.</p>
<p>For example, in linear mixed models (LMM/HLM/MLM), the estimation of all required <em>SS</em>s is not straightforward. However, we can still <em>approximate</em> these effect sizes (only their partial versions) based on the <strong>test-statistic approximation method</strong> (learn more in the <a href="https://easystats.github.io/effectsize/articles/from_test_statistics.html"><em>Effect Size from Test Statistics</em> vignette</a>).</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmerTest)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>fit_lmm <span class="ot">&lt;-</span> <span class="fu">lmer</span>(Reaction <span class="sc">~</span> Days <span class="sc">+</span> (Days <span class="sc">|</span> Subject), sleepstudy)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fit_lmm) <span class="co"># note the type-3 errors</span></span></code></pre></div>
<pre><code>&gt; Type III Analysis of Variance Table with Satterthwaite&#39;s method
&gt;      Sum Sq Mean Sq NumDF DenDF F value  Pr(&gt;F)    
&gt; Days  30031   30031     1    17    45.9 3.3e-06 ***
&gt; ---
&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">F_to_eta2</span>(<span class="fl">45.8</span>, <span class="at">df =</span> <span class="dv">1</span>, <span class="at">df_error =</span> <span class="dv">17</span>)</span></code></pre></div>
<pre><code>&gt; Eta2 (partial) |       90% CI
&gt; -----------------------------
&gt; 0.73           | [0.51, 0.83]</code></pre>
<p>Or directly with `eta_squared() and co.:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eta_squared</span>(fit_lmm)</span></code></pre></div>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter | Eta2 (partial) |       90% CI
&gt; -----------------------------------------
&gt; Days      |           0.73 | [0.51, 0.83]</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">epsilon_squared</span>(fit_lmm)</span></code></pre></div>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter | Epsilon2 (partial) |       90% CI
&gt; ---------------------------------------------
&gt; Days      |               0.71 | [0.48, 0.82]</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">omega_squared</span>(fit_lmm)</span></code></pre></div>
<pre><code>&gt; # Effect Size for ANOVA (Type III)
&gt; 
&gt; Parameter | Omega2 (partial) |       90% CI
&gt; -------------------------------------------
&gt; Days      |             0.70 | [0.47, 0.82]</code></pre>
<p>Another case where <em>SS</em>s are not available is when use Bayesian models. <code>effectsize</code> has Bayesian solutions for Bayesian models, about which you can read in the <a href="https://easystats.github.io/effectsize/articles/bayesian_models.html"><em>Effect Sizes for Bayesian Models</em> vignette</a>.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-albers2018power" class="csl-entry">
Albers, Casper, and Daniël Lakens. 2018. <span>“When Power Analyses Based on Pilot Data Are Biased: Inaccurate Effect Size Estimators and Follow-up Bias.”</span> <em>Journal of Experimental Social Psychology</em> 74: 187–95.
</div>
<div id="ref-allen2017statistics" class="csl-entry">
Allen, Rory. 2017. <em>Statistics and Experimental Design for Psychologists: A Model Comparison Approach</em>. World Scientific Publishing Company.
</div>
<div id="ref-carroll1975sampling" class="csl-entry">
Carroll, Robert M, and Lena A Nordholm. 1975. <span>“Sampling Characteristics of Kelley’s Epsilon and Hays’ Omega.”</span> <em>Educational and Psychological Measurement</em> 35 (3): 541–54.
</div>
<div id="ref-olejnik2003generalized" class="csl-entry">
Olejnik, Stephen, and James Algina. 2003. <span>“Generalized Eta and Omega Squared Statistics: Measures of Effect Size for Some Common Research Designs.”</span> <em>Psychological Methods</em> 8 (4): 434.
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
