
R version 4.0.1 (2020-06-06) -- "See Things Now"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> pkgname <- "broom.helpers"
> source(file.path(R.home("share"), "R", "examples-header.R"))
> options(warn = 1)
> options(pager = "console")
> library('broom.helpers')
> 
> base::assign(".oldSearch", base::search(), pos = 'CheckExEnv')
> base::assign(".old_wd", base::getwd(), pos = 'CheckExEnv')
> cleanEx()
> nameEx("model_get_coefficients_type")
> ### * model_get_coefficients_type
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_get_coefficients_type
> ### Title: Get coefficient type
> ### Aliases: model_get_coefficients_type
> ###   model_get_coefficients_type.default model_get_coefficients_type.glm
> ###   model_get_coefficients_type.negbin model_get_coefficients_type.geeglm
> ###   model_get_coefficients_type.glmerMod
> ###   model_get_coefficients_type.clogit model_get_coefficients_type.polr
> ###   model_get_coefficients_type.multinom
> ###   model_get_coefficients_type.svyolr model_get_coefficients_type.clm
> ###   model_get_coefficients_type.clmm model_get_coefficients_type.coxph
> 
> ### ** Examples
> 
> lm(hp ~ mpg + factor(cyl), mtcars) %>%
+   model_get_coefficients_type()
[1] "generic"
> 
> Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes"))) %>%
+   glm(Survived ~ Class + Age * Sex, data = ., weights = .$n, family = binomial) %>%
+   model_get_coefficients_type()
[1] "logistic"
> 
> 
> 
> cleanEx()
> nameEx("model_get_contrasts")
> ### * model_get_contrasts
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_get_contrasts
> ### Title: Get contrasts used in the model
> ### Aliases: model_get_contrasts model_get_contrasts.default
> 
> ### ** Examples
> 
> glm(
+   am ~ mpg + factor(cyl),
+   data = mtcars,
+   family = binomial,
+   contrasts = list(`factor(cyl)` = contr.sum)
+ ) %>%
+   model_get_contrasts()
$`factor(cyl)`
  [,1] [,2]
4    1    0
6    0    1
8   -1   -1

> 
> 
> 
> cleanEx()
> nameEx("model_get_model")
> ### * model_get_model
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_get_model
> ### Title: Get the model from model objects
> ### Aliases: model_get_model model_get_model.default model_get_model.mira
> 
> ### ** Examples
> 
> lm(hp ~ mpg + factor(cyl), mtcars) %>%
+   model_get_model()

Call:
lm(formula = hp ~ mpg + factor(cyl), data = mtcars)

Coefficients:
 (Intercept)           mpg  factor(cyl)6  factor(cyl)8  
     171.349        -3.327        16.623        88.105  

> 
> 
> 
> cleanEx()
> nameEx("model_get_model_frame")
> ### * model_get_model_frame
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_get_model_frame
> ### Title: Get the model frame of a model
> ### Aliases: model_get_model_frame model_get_model_frame.default
> ###   model_get_model_frame.coxph model_get_model_frame.survreg
> 
> ### ** Examples
> 
> lm(hp ~ mpg + factor(cyl), mtcars) %>%
+   model_get_model_frame() %>%
+   head()
                   hp  mpg factor(cyl)
Mazda RX4         110 21.0           6
Mazda RX4 Wag     110 21.0           6
Datsun 710         93 22.8           4
Hornet 4 Drive    110 21.4           6
Hornet Sportabout 175 18.7           8
Valiant           105 18.1           6
> 
> 
> 
> cleanEx()
> nameEx("model_get_model_matrix")
> ### * model_get_model_matrix
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_get_model_matrix
> ### Title: Get the model matrix of a model
> ### Aliases: model_get_model_matrix model_get_model_matrix.default
> ###   model_get_model_matrix.multinom model_get_model_matrix.clm
> 
> ### ** Examples
> 
> lm(hp ~ mpg + factor(cyl), mtcars) %>%
+   model_get_model_matrix() %>%
+   head()
                  (Intercept)  mpg factor(cyl)6 factor(cyl)8
Mazda RX4                   1 21.0            1            0
Mazda RX4 Wag               1 21.0            1            0
Datsun 710                  1 22.8            0            0
Hornet 4 Drive              1 21.4            1            0
Hornet Sportabout           1 18.7            0            1
Valiant                     1 18.1            1            0
> 
> 
> 
> cleanEx()
> nameEx("model_get_nlevels")
> ### * model_get_nlevels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_get_nlevels
> ### Title: Get the number of levels for each factor used in 'xlevels'
> ### Aliases: model_get_nlevels model_get_nlevels.default
> 
> ### ** Examples
> 
> lm(hp ~ mpg + factor(cyl), mtcars) %>%
+   model_get_nlevels()
[90m# A tibble: 1 x 2[39m
  variable    var_nlevels
  [3m[90m<chr>[39m[23m             [3m[90m<int>[39m[23m
[90m1[39m factor(cyl)           3
> 
> 
> 
> cleanEx()
> nameEx("model_get_xlevels")
> ### * model_get_xlevels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_get_xlevels
> ### Title: Get xlevels used in the model
> ### Aliases: model_get_xlevels model_get_xlevels.default
> ###   model_get_xlevels.lmerMod model_get_xlevels.glmerMod
> 
> ### ** Examples
> 
> lm(hp ~ mpg + factor(cyl), mtcars) %>%
+   model_get_xlevels()
$`factor(cyl)`
[1] "4" "6" "8"

> 
> 
> 
> cleanEx()
> nameEx("model_identify_variables")
> ### * model_identify_variables
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_identify_variables
> ### Title: Identify for each coefficient of a model the corresponding
> ###   variable
> ### Aliases: model_identify_variables model_identify_variables.default
> ###   model_identify_variables.lavaan model_identify_variables.aov
> ###   model_identify_variables.clm model_identify_variables.clmm
> 
> ### ** Examples
> 
> Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes"))) %>%
+   glm(
+     Survived ~ Class + Age * Sex,
+     data = ., weights = .$n,
+     family = binomial
+   ) %>%
+   model_identify_variables()
[90m# A tibble: 7 x 5[39m
  term             variable var_class var_nlevels var_type   
  [3m[90m<chr>[39m[23m            [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m           [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m      
[90m1[39m (Intercept)      [31mNA[39m       [31mNA[39m                 [31mNA[39m intercept  
[90m2[39m Class2nd         Class    character           4 categorical
[90m3[39m Class3rd         Class    character           4 categorical
[90m4[39m ClassCrew        Class    character           4 categorical
[90m5[39m AgeChild         Age      character           2 dichotomous
[90m6[39m SexMale          Sex      character           2 dichotomous
[90m7[39m AgeChild:SexMale Age:Sex  [31mNA[39m                 [31mNA[39m interaction
> 
> iris %>%
+   lm(
+     Sepal.Length ~ poly(Sepal.Width, 2) + Species,
+     data = .,
+     contrasts = list(Species = contr.sum)
+   ) %>%
+   model_identify_variables()
[90m# A tibble: 5 x 5[39m
  term                  variable    var_class var_nlevels var_type   
  [3m[90m<chr>[39m[23m                 [3m[90m<chr>[39m[23m       [3m[90m<chr>[39m[23m           [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m      
[90m1[39m (Intercept)           [31mNA[39m          [31mNA[39m                 [31mNA[39m intercept  
[90m2[39m poly(Sepal.Width, 2)1 Sepal.Width nmatrix.2          [31mNA[39m continuous 
[90m3[39m poly(Sepal.Width, 2)2 Sepal.Width nmatrix.2          [31mNA[39m continuous 
[90m4[39m Species1              Species     factor              3 categorical
[90m5[39m Species2              Species     factor              3 categorical
> 
> 
> 
> cleanEx()
> nameEx("model_list_contrasts")
> ### * model_list_contrasts
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_list_contrasts
> ### Title: List contrasts used by a model
> ### Aliases: model_list_contrasts model_list_contrasts.default
> 
> ### ** Examples
> 
> glm(
+   am ~ mpg + factor(cyl),
+   data = mtcars,
+   family = binomial,
+   contrasts = list(`factor(cyl)` = contr.sum)
+ ) %>%
+   model_list_contrasts()
[90m# A tibble: 1 x 4[39m
  variable    contrasts reference contrasts_type
  [3m[90m<chr>[39m[23m       [3m[90m<chr>[39m[23m         [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m         
[90m1[39m factor(cyl) contr.sum         3 sum           
> 
> 
> 
> cleanEx()
> nameEx("model_list_terms_levels")
> ### * model_list_terms_levels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_list_terms_levels
> ### Title: List levels of categorical terms
> ### Aliases: model_list_terms_levels model_list_terms_levels.default
> 
> ### ** Examples
> 
> glm(
+   am ~ mpg + factor(cyl),
+   data = mtcars,
+   family = binomial,
+   contrasts = list(`factor(cyl)` = contr.sum)
+ ) %>%
+   model_list_terms_levels()
[90m# A tibble: 3 x 10[39m
  variable contrasts_type term  level reference reference_level var_label
  [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m          [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m [3m[90m<lgl>[39m[23m     [3m[90m<chr>[39m[23m           [3m[90m<chr>[39m[23m    
[90m1[39m factor(~ sum            fact~ 4     FALSE     8               factor(c~
[90m2[39m factor(~ sum            fact~ 6     FALSE     8               factor(c~
[90m3[39m factor(~ sum            fact~ 8     TRUE      8               factor(c~
[90m# ... with 3 more variables: var_nlevels [3m[90m<int>[90m[23m, dichotomous [3m[90m<lgl>[90m[23m, label [3m[90m<glue>[90m[23m[39m
> 
> df <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes")))
> 
> mod <- df %>%
+   glm(
+     Survived ~ Class + Age + Sex,
+     data = ., weights = .$n, family = binomial,
+     contrasts = list(Age = contr.sum, Class = "contr.helmert")
+   )
> mod %>% model_list_terms_levels()
[90m# A tibble: 4 x 10[39m
  variable contrasts_type term  level reference reference_level var_label
  [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m          [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m [3m[90m<lgl>[39m[23m     [3m[90m<chr>[39m[23m           [3m[90m<chr>[39m[23m    
[90m1[39m Age      sum            Age1  Adult FALSE     Child           Age      
[90m2[39m Age      sum            Age2  Child TRUE      Child           Age      
[90m3[39m Sex      treatment      SexF~ Fema~ TRUE      Female          Sex      
[90m4[39m Sex      treatment      SexM~ Male  FALSE     Female          Sex      
[90m# ... with 3 more variables: var_nlevels [3m[90m<int>[90m[23m, dichotomous [3m[90m<lgl>[90m[23m, label [3m[90m<glue>[90m[23m[39m
> mod %>% model_list_terms_levels("{level} vs {reference_level}")
[90m# A tibble: 4 x 10[39m
  variable contrasts_type term  level reference reference_level var_label
  [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m          [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m [3m[90m<lgl>[39m[23m     [3m[90m<chr>[39m[23m           [3m[90m<chr>[39m[23m    
[90m1[39m Age      sum            Age1  Adult FALSE     Child           Age      
[90m2[39m Age      sum            Age2  Child TRUE      Child           Age      
[90m3[39m Sex      treatment      SexF~ Fema~ TRUE      Female          Sex      
[90m4[39m Sex      treatment      SexM~ Male  FALSE     Female          Sex      
[90m# ... with 3 more variables: var_nlevels [3m[90m<int>[90m[23m, dichotomous [3m[90m<lgl>[90m[23m, label [3m[90m<glue>[90m[23m[39m
> mod %>% model_list_terms_levels("{variable} [{level} - {reference_level}]")
[90m# A tibble: 4 x 10[39m
  variable contrasts_type term  level reference reference_level var_label
  [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m          [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m [3m[90m<lgl>[39m[23m     [3m[90m<chr>[39m[23m           [3m[90m<chr>[39m[23m    
[90m1[39m Age      sum            Age1  Adult FALSE     Child           Age      
[90m2[39m Age      sum            Age2  Child TRUE      Child           Age      
[90m3[39m Sex      treatment      SexF~ Fema~ TRUE      Female          Sex      
[90m4[39m Sex      treatment      SexM~ Male  FALSE     Female          Sex      
[90m# ... with 3 more variables: var_nlevels [3m[90m<int>[90m[23m, dichotomous [3m[90m<lgl>[90m[23m, label [3m[90m<glue>[90m[23m[39m
> mod %>% model_list_terms_levels(
+   "{ifelse(reference, level, paste(level, '-', reference_level))}"
+ )
[90m# A tibble: 4 x 10[39m
  variable contrasts_type term  level reference reference_level var_label
  [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m          [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m [3m[90m<lgl>[39m[23m     [3m[90m<chr>[39m[23m           [3m[90m<chr>[39m[23m    
[90m1[39m Age      sum            Age1  Adult FALSE     Child           Age      
[90m2[39m Age      sum            Age2  Child TRUE      Child           Age      
[90m3[39m Sex      treatment      SexF~ Fema~ TRUE      Female          Sex      
[90m4[39m Sex      treatment      SexM~ Male  FALSE     Female          Sex      
[90m# ... with 3 more variables: var_nlevels [3m[90m<int>[90m[23m, dichotomous [3m[90m<lgl>[90m[23m, label [3m[90m<glue>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("model_list_variables")
> ### * model_list_variables
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: model_list_variables
> ### Title: List all the variables used in a model
> ### Aliases: model_list_variables model_list_variables.default
> ###   model_list_variables.lavaan
> 
> ### ** Examples
> 
> Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes"))) %>%
+   glm(
+     Survived ~ Class + Age : Sex,
+     data = ., weights = .$n,
+     family = binomial
+   ) %>%
+   model_list_variables()
[90m# A tibble: 6 x 4[39m
  variable  var_class label_attr var_label
  [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m      [3m[90m<chr>[39m[23m    
[90m1[39m Survived  factor    [31mNA[39m         Survived 
[90m2[39m Class     character [31mNA[39m         Class    
[90m3[39m Age       character [31mNA[39m         Age      
[90m4[39m Sex       character [31mNA[39m         Sex      
[90m5[39m (weights) numeric   [31mNA[39m         (weights)
[90m6[39m Age:Sex   [31mNA[39m        [31mNA[39m         Age:Sex  
> 
> iris %>%
+   lm(
+     Sepal.Length ~ poly(Sepal.Width, 2) + Species,
+     data = .,
+     contrasts = list(Species = contr.sum)
+   ) %>%
+   model_list_variables()
[90m# A tibble: 3 x 4[39m
  variable     var_class label_attr var_label   
  [3m[90m<chr>[39m[23m        [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m      [3m[90m<chr>[39m[23m       
[90m1[39m Sepal.Length numeric   [31mNA[39m         Sepal.Length
[90m2[39m Sepal.Width  nmatrix.2 [31mNA[39m         Sepal.Width 
[90m3[39m Species      factor    [31mNA[39m         Species     
> 
> if (requireNamespace("gtsummary")) {
+   glm(
+     response ~ poly(age, 3) + stage + grade * trt,
+     na.omit(gtsummary::trial),
+     family = binomial,
+   ) %>%
+     model_list_variables()
+ }
Loading required namespace: gtsummary
[90m# A tibble: 6 x 4[39m
  variable  var_class label_attr             var_label             
  [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m                  [3m[90m<chr>[39m[23m                 
[90m1[39m response  integer   Tumor Response         Tumor Response        
[90m2[39m age       nmatrix.3 [31mNA[39m                     age                   
[90m3[39m stage     factor    T Stage                T Stage               
[90m4[39m grade     factor    Grade                  Grade                 
[90m5[39m trt       character Chemotherapy Treatment Chemotherapy Treatment
[90m6[39m grade:trt [31mNA[39m        [31mNA[39m                     grade:trt             
> 
> 
> 
> cleanEx()
> nameEx("select_helpers")
> ### * select_helpers
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: select_helpers
> ### Title: Select helper functions
> ### Aliases: select_helpers all_continuous all_dichotomous all_categorical
> ###   all_interaction all_intercepts all_contrasts
> 
> ### ** Examples
> 
> glm(response ~ age * trt + grade, gtsummary::trial, family = binomial) %>%
+   tidy_plus_plus(exponentiate = TRUE, include = all_categorical())
[90m# A tibble: 5 x 16[39m
  term  variable var_label var_class var_type var_nlevels contrasts
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m    
[90m1[39m trtD~ trt      Chemothe~ character dichoto~           2 contr.tr~
[90m2[39m trtD~ trt      Chemothe~ character dichoto~           2 contr.tr~
[90m3[39m grad~ grade    Grade     factor    categor~           3 contr.tr~
[90m4[39m grad~ grade    Grade     factor    categor~           3 contr.tr~
[90m5[39m grad~ grade    Grade     factor    categor~           3 contr.tr~
[90m# ... with 9 more variables: contrasts_type [3m[90m<chr>[90m[23m, reference_row [3m[90m<lgl>[90m[23m,[39m
[90m#   label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m, std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m,[39m
[90m#   p.value [3m[90m<dbl>[90m[23m, conf.low [3m[90m<dbl>[90m[23m, conf.high [3m[90m<dbl>[90m[23m[39m
> 
> glm(response ~ age + trt + grade + stage,
+     gtsummary::trial,
+     family = binomial,
+     contrasts = list(trt = contr.SAS, grade = contr.sum, stage = contr.poly)) %>%
+ tidy_plus_plus(exponentiate = TRUE,
+                include = all_contrasts(c("treatment", "sum")))
[90m# A tibble: 5 x 16[39m
  term  variable var_label var_class var_type var_nlevels contrasts
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m    
[90m1[39m trt1  trt      Chemothe~ character dichoto~           2 contr.SAS
[90m2[39m trt2  trt      Chemothe~ character dichoto~           2 contr.SAS
[90m3[39m grad~ grade    Grade     factor    categor~           3 contr.sum
[90m4[39m grad~ grade    Grade     factor    categor~           3 contr.sum
[90m5[39m grad~ grade    Grade     factor    categor~           3 contr.sum
[90m# ... with 9 more variables: contrasts_type [3m[90m<chr>[90m[23m, reference_row [3m[90m<lgl>[90m[23m,[39m
[90m#   label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m, std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m,[39m
[90m#   p.value [3m[90m<dbl>[90m[23m, conf.low [3m[90m<dbl>[90m[23m, conf.high [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_add_coefficients_type")
> ### * tidy_add_coefficients_type
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_add_coefficients_type
> ### Title: Add coefficients type and label as attributes
> ### Aliases: tidy_add_coefficients_type
> 
> ### ** Examples
> 
> ex1 <- lm(hp ~ mpg + factor(cyl), mtcars) %>%
+   tidy_and_attach() %>%
+   tidy_add_coefficients_type()
> attr(ex1, "coefficients_type")
[1] "generic"
> attr(ex1, "coefficients_label")
[1] "Beta"
> 
> ex2 <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes"))) %>%
+   glm(Survived ~ Class + Age * Sex, data = ., weights = .$n, family = binomial) %>%
+   tidy_and_attach(exponentiate = TRUE) %>%
+   tidy_add_coefficients_type()
> attr(ex2, "coefficients_type")
[1] "logistic"
> attr(ex2, "coefficients_label")
[1] "OR"
> 
> 
> 
> cleanEx()
> nameEx("tidy_add_contrasts")
> ### * tidy_add_contrasts
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_add_contrasts
> ### Title: Add contrasts type for categorical variables
> ### Aliases: tidy_add_contrasts
> 
> ### ** Examples
> 
> df <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes")))
> 
> df %>%
+   glm(
+     Survived ~ Class + Age + Sex,
+     data = ., weights = .$n, family = binomial,
+     contrasts = list(Age = contr.sum, Class = "contr.helmert")
+   ) %>%
+   tidy_and_attach() %>%
+   tidy_add_contrasts()
[90m# A tibble: 6 x 11[39m
  term  variable var_class var_type var_nlevels contrasts contrasts_type
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m         
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m2[39m Clas~ Class    character categor~           4 contr.he~ helmert       
[90m3[39m Clas~ Class    character categor~           4 contr.he~ helmert       
[90m4[39m Clas~ Class    character categor~           4 contr.he~ helmert       
[90m5[39m Age1  Age      character dichoto~           2 contr.sum sum           
[90m6[39m SexM~ Sex      character dichoto~           2 contr.tr~ treatment     
[90m# ... with 4 more variables: estimate [3m[90m<dbl>[90m[23m, std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m,[39m
[90m#   p.value [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_add_estimate_to_reference_rows")
> ### * tidy_add_estimate_to_reference_rows
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_add_estimate_to_reference_rows
> ### Title: Add an estimate value to references rows for categorical
> ###   variables
> ### Aliases: tidy_add_estimate_to_reference_rows
> 
> ### ** Examples
> 
> df <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(dplyr::across(where(is.character), factor))
> 
> df %>%
+   glm(
+     Survived ~ Class + Age + Sex,
+     data = ., weights = .$n, family = binomial,
+     contrasts = list(Age = contr.sum, Class = "contr.SAS")
+   ) %>%
+   tidy_and_attach(exponentiate = TRUE) %>%
+   tidy_add_reference_rows() %>%
+   tidy_add_estimate_to_reference_rows()
[90m# A tibble: 9 x 12[39m
  term  variable var_class var_type var_nlevels contrasts contrasts_type
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m         
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m2[39m Clas~ Class    factor    categor~           4 contr.SAS treatment     
[90m3[39m Clas~ Class    factor    categor~           4 contr.SAS treatment     
[90m4[39m Clas~ Class    factor    categor~           4 contr.SAS treatment     
[90m5[39m Clas~ Class    factor    categor~           4 contr.SAS treatment     
[90m6[39m Age1  Age      factor    dichoto~           2 contr.sum sum           
[90m7[39m Age2  Age      factor    dichoto~           2 contr.sum sum           
[90m8[39m SexF~ Sex      factor    dichoto~           2 contr.tr~ treatment     
[90m9[39m SexM~ Sex      factor    dichoto~           2 contr.tr~ treatment     
[90m# ... with 5 more variables: reference_row [3m[90m<lgl>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> 
> if (requireNamespace("gtsummary")) {
+   glm(
+     response ~ stage + grade * trt,
+     gtsummary::trial,
+     family = binomial,
+     contrasts = list(
+       stage = contr.treatment(4, base = 3),
+       grade = contr.treatment(3, base = 2),
+       trt = contr.treatment(2, base = 2)
+     )
+   ) %>%
+     tidy_and_attach() %>%
+     tidy_add_reference_rows() %>%
+     tidy_add_estimate_to_reference_rows()
+ }
[90m# A tibble: 12 x 12[39m
   term  variable var_class var_type var_nlevels contrasts contrasts_type
   [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m         
[90m 1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m 2[39m stag~ stage    factor    categor~           4 contr.tr~ treatment     
[90m 3[39m stag~ stage    factor    categor~           4 contr.tr~ treatment     
[90m 4[39m stag~ stage    factor    categor~           4 contr.tr~ treatment     
[90m 5[39m stag~ stage    factor    categor~           4 contr.tr~ treatment     
[90m 6[39m grad~ grade    factor    categor~           3 contr.tr~ treatment     
[90m 7[39m grad~ grade    factor    categor~           3 contr.tr~ treatment     
[90m 8[39m grad~ grade    factor    categor~           3 contr.tr~ treatment     
[90m 9[39m trt1  trt      character dichoto~           2 contr.SAS treatment     
[90m10[39m trt2  trt      character dichoto~           2 contr.SAS treatment     
[90m11[39m grad~ grade:t~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m12[39m grad~ grade:t~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m# ... with 5 more variables: reference_row [3m[90m<lgl>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_add_header_rows")
> ### * tidy_add_header_rows
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_add_header_rows
> ### Title: Add header rows variables with several terms
> ### Aliases: tidy_add_header_rows
> 
> ### ** Examples
> 
> df <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes")))
> 
> res <- df %>%
+   glm(
+     Survived ~ Class + Age + Sex,
+     data = ., weights = .$n, family = binomial,
+     contrasts = list(Age = contr.sum, Class = "contr.SAS")
+   ) %>%
+   tidy_and_attach() %>%
+   tidy_add_variable_labels(labels = list(Class = "Custom label for Class")) %>%
+   tidy_add_reference_rows()
> res %>% tidy_add_header_rows()
[90m# A tibble: 12 x 15[39m
   term  variable var_label var_class var_type var_nlevels header_row contrasts
   [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<lgl>[39m[23m      [3m[90m<chr>[39m[23m    
[90m 1[39m (Int~ (Interc~ (Interce~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m         [31mNA[39m       
[90m 2[39m [31mNA[39m    Class    Custom l~ character categor~           4 TRUE       contr.SAS
[90m 3[39m Clas~ Class    Custom l~ character categor~           4 FALSE      contr.SAS
[90m 4[39m Clas~ Class    Custom l~ character categor~           4 FALSE      contr.SAS
[90m 5[39m Clas~ Class    Custom l~ character categor~           4 FALSE      contr.SAS
[90m 6[39m Clas~ Class    Custom l~ character categor~           4 FALSE      contr.SAS
[90m 7[39m [31mNA[39m    Age      Age       character dichoto~           2 TRUE       contr.sum
[90m 8[39m Age1  Age      Age       character dichoto~           2 FALSE      contr.sum
[90m 9[39m Age2  Age      Age       character dichoto~           2 FALSE      contr.sum
[90m10[39m [31mNA[39m    Sex      Sex       character dichoto~           2 TRUE       contr.tr~
[90m11[39m SexF~ Sex      Sex       character dichoto~           2 FALSE      contr.tr~
[90m12[39m SexM~ Sex      Sex       character dichoto~           2 FALSE      contr.tr~
[90m# ... with 7 more variables: contrasts_type [3m[90m<chr>[90m[23m, reference_row [3m[90m<lgl>[90m[23m,[39m
[90m#   label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m, std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m,[39m
[90m#   p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_add_header_rows(show_single_row = all_dichotomous())
[90m# A tibble: 8 x 15[39m
  term  variable var_label var_class var_type var_nlevels header_row contrasts
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<lgl>[39m[23m      [3m[90m<chr>[39m[23m    
[90m1[39m (Int~ (Interc~ (Interce~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m         [31mNA[39m       
[90m2[39m [31mNA[39m    Class    Custom l~ character categor~           4 TRUE       contr.SAS
[90m3[39m Clas~ Class    Custom l~ character categor~           4 FALSE      contr.SAS
[90m4[39m Clas~ Class    Custom l~ character categor~           4 FALSE      contr.SAS
[90m5[39m Clas~ Class    Custom l~ character categor~           4 FALSE      contr.SAS
[90m6[39m Clas~ Class    Custom l~ character categor~           4 FALSE      contr.SAS
[90m7[39m Age1  Age      Age       character dichoto~           2 [31mNA[39m         contr.sum
[90m8[39m SexM~ Sex      Sex       character dichoto~           2 [31mNA[39m         contr.tr~
[90m# ... with 7 more variables: contrasts_type [3m[90m<chr>[90m[23m, reference_row [3m[90m<lgl>[90m[23m,[39m
[90m#   label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m, std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m,[39m
[90m#   p.value [3m[90m<dbl>[90m[23m[39m
> 
> if (requireNamespace("gtsummary")) {
+   glm(
+     response ~ stage + grade * trt,
+     gtsummary::trial,
+     family = binomial,
+     contrasts = list(
+       stage = contr.treatment(4, base = 3),
+       grade = contr.treatment(3, base = 2),
+       trt = contr.treatment(2, base = 2)
+     )
+   ) %>%
+     tidy_and_attach() %>%
+     tidy_add_reference_rows() %>%
+     tidy_add_header_rows()
+ }
[90m# A tibble: 16 x 15[39m
   term  variable var_label var_class var_type var_nlevels header_row contrasts
   [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<lgl>[39m[23m      [3m[90m<chr>[39m[23m    
[90m 1[39m (Int~ (Interc~ (Interce~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m         [31mNA[39m       
[90m 2[39m [31mNA[39m    stage    T Stage   factor    categor~           4 TRUE       contr.tr~
[90m 3[39m stag~ stage    T Stage   factor    categor~           4 FALSE      contr.tr~
[90m 4[39m stag~ stage    T Stage   factor    categor~           4 FALSE      contr.tr~
[90m 5[39m stag~ stage    T Stage   factor    categor~           4 FALSE      contr.tr~
[90m 6[39m stag~ stage    T Stage   factor    categor~           4 FALSE      contr.tr~
[90m 7[39m [31mNA[39m    grade    Grade     factor    categor~           3 TRUE       contr.tr~
[90m 8[39m grad~ grade    Grade     factor    categor~           3 FALSE      contr.tr~
[90m 9[39m grad~ grade    Grade     factor    categor~           3 FALSE      contr.tr~
[90m10[39m grad~ grade    Grade     factor    categor~           3 FALSE      contr.tr~
[90m11[39m [31mNA[39m    trt      Chemothe~ character dichoto~           2 TRUE       contr.SAS
[90m12[39m trt1  trt      Chemothe~ character dichoto~           2 FALSE      contr.SAS
[90m13[39m trt2  trt      Chemothe~ character dichoto~           2 FALSE      contr.SAS
[90m14[39m [31mNA[39m    grade:t~ Grade * ~ [31mNA[39m        interac~          [31mNA[39m TRUE       [31mNA[39m       
[90m15[39m grad~ grade:t~ Grade * ~ [31mNA[39m        interac~          [31mNA[39m FALSE      [31mNA[39m       
[90m16[39m grad~ grade:t~ Grade * ~ [31mNA[39m        interac~          [31mNA[39m FALSE      [31mNA[39m       
[90m# ... with 7 more variables: contrasts_type [3m[90m<chr>[90m[23m, reference_row [3m[90m<lgl>[90m[23m,[39m
[90m#   label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m, std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m,[39m
[90m#   p.value [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_add_reference_rows")
> ### * tidy_add_reference_rows
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_add_reference_rows
> ### Title: Add references rows for categorical variables
> ### Aliases: tidy_add_reference_rows
> 
> ### ** Examples
> 
> df <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes")))
> 
> res <- df %>%
+   glm(
+     Survived ~ Class + Age + Sex,
+     data = ., weights = .$n, family = binomial,
+     contrasts = list(Age = contr.sum, Class = "contr.SAS")
+   ) %>%
+   tidy_and_attach()
> res %>% tidy_add_reference_rows()
[90m# A tibble: 9 x 12[39m
  term  variable var_class var_type var_nlevels contrasts contrasts_type
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m         
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m2[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m3[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m4[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m5[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m6[39m Age1  Age      character dichoto~           2 contr.sum sum           
[90m7[39m Age2  Age      character dichoto~           2 contr.sum sum           
[90m8[39m SexF~ Sex      character dichoto~           2 contr.tr~ treatment     
[90m9[39m SexM~ Sex      character dichoto~           2 contr.tr~ treatment     
[90m# ... with 5 more variables: reference_row [3m[90m<lgl>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_add_reference_rows(no_reference_row = all_dichotomous())
[90m# A tibble: 7 x 12[39m
  term  variable var_class var_type var_nlevels contrasts contrasts_type
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m         
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m2[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m3[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m4[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m5[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m6[39m Age1  Age      character dichoto~           2 contr.sum sum           
[90m7[39m SexM~ Sex      character dichoto~           2 contr.tr~ treatment     
[90m# ... with 5 more variables: reference_row [3m[90m<lgl>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_add_reference_rows(no_reference_row = "Class")
[90m# A tibble: 8 x 12[39m
  term  variable var_class var_type var_nlevels contrasts contrasts_type
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m         
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m2[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m3[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m4[39m Clas~ Class    character categor~           4 contr.SAS treatment     
[90m5[39m Age1  Age      character dichoto~           2 contr.sum sum           
[90m6[39m Age2  Age      character dichoto~           2 contr.sum sum           
[90m7[39m SexF~ Sex      character dichoto~           2 contr.tr~ treatment     
[90m8[39m SexM~ Sex      character dichoto~           2 contr.tr~ treatment     
[90m# ... with 5 more variables: reference_row [3m[90m<lgl>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> 
> if (requireNamespace("gtsummary")) {
+   glm(
+     response ~ stage + grade * trt,
+     gtsummary::trial,
+     family = binomial,
+     contrasts = list(
+       stage = contr.treatment(4, base = 3),
+       grade = contr.treatment(3, base = 2),
+       trt = contr.treatment(2, base = 2)
+     )
+   ) %>%
+     tidy_and_attach() %>%
+     tidy_add_reference_rows()
+ }
[90m# A tibble: 12 x 12[39m
   term  variable var_class var_type var_nlevels contrasts contrasts_type
   [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m         
[90m 1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m 2[39m stag~ stage    factor    categor~           4 contr.tr~ treatment     
[90m 3[39m stag~ stage    factor    categor~           4 contr.tr~ treatment     
[90m 4[39m stag~ stage    factor    categor~           4 contr.tr~ treatment     
[90m 5[39m stag~ stage    factor    categor~           4 contr.tr~ treatment     
[90m 6[39m grad~ grade    factor    categor~           3 contr.tr~ treatment     
[90m 7[39m grad~ grade    factor    categor~           3 contr.tr~ treatment     
[90m 8[39m grad~ grade    factor    categor~           3 contr.tr~ treatment     
[90m 9[39m trt1  trt      character dichoto~           2 contr.SAS treatment     
[90m10[39m trt2  trt      character dichoto~           2 contr.SAS treatment     
[90m11[39m grad~ grade:t~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m12[39m grad~ grade:t~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m        [31mNA[39m            
[90m# ... with 5 more variables: reference_row [3m[90m<lgl>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_add_term_labels")
> ### * tidy_add_term_labels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_add_term_labels
> ### Title: Add term labels
> ### Aliases: tidy_add_term_labels
> 
> ### ** Examples
> 
> df <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes"))) %>%
+   labelled::set_variable_labels(
+     Class = "Passenger's class",
+     Sex = "Sex"
+   )
> 
> mod <- df %>%
+   glm(Survived ~ Class * Age * Sex, data = ., weights = .$n, family = binomial)
> mod %>%
+   tidy_and_attach() %>%
+   tidy_add_term_labels()
[90m# A tibble: 16 x 13[39m
   term  variable var_label var_class var_type var_nlevels contrasts
   [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m    
[90m 1[39m (Int~ (Interc~ (Interce~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m       
[90m 2[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m 3[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m 4[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m 5[39m AgeC~ Age      Age       character dichoto~           2 contr.tr~
[90m 6[39m SexM~ Sex      Sex       character dichoto~           2 contr.tr~
[90m 7[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m 8[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m 9[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m10[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m11[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m12[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m13[39m AgeC~ Age:Sex  Age * Sex [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m14[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m15[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m16[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m# ... with 6 more variables: contrasts_type [3m[90m<chr>[90m[23m, label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> mod %>%
+   tidy_and_attach() %>%
+   tidy_add_term_labels(
+     interaction_sep = " x ",
+     categorical_terms_pattern = "{level} / {reference_level}"
+   )
[90m# A tibble: 16 x 13[39m
   term  variable var_label var_class var_type var_nlevels contrasts
   [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m    
[90m 1[39m (Int~ (Interc~ (Interce~ [31mNA[39m        interce~          [31mNA[39m [31mNA[39m       
[90m 2[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m 3[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m 4[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m 5[39m AgeC~ Age      Age       character dichoto~           2 contr.tr~
[90m 6[39m SexM~ Sex      Sex       character dichoto~           2 contr.tr~
[90m 7[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m 8[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m 9[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m10[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m11[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m12[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m13[39m AgeC~ Age:Sex  Age * Sex [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m14[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m15[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m16[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m# ... with 6 more variables: contrasts_type [3m[90m<chr>[90m[23m, label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_add_variable_labels")
> ### * tidy_add_variable_labels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_add_variable_labels
> ### Title: Add variable labels
> ### Aliases: tidy_add_variable_labels
> 
> ### ** Examples
> 
> df <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes"))) %>%
+   labelled::set_variable_labels(
+     Class = "Passenger's class",
+     Sex = "Sex"
+   )
> 
> df %>%
+   glm(Survived ~ Class * Age * Sex, data = ., weights = .$n, family = binomial) %>%
+   tidy_and_attach() %>%
+   tidy_add_variable_labels(
+     labels = list(
+       "(Intercept)" = "Custom intercept",
+       Sex = "Gender",
+       "Class:Age" = "Custom label"
+     )
+   )
[90m# A tibble: 16 x 10[39m
   term  variable var_label var_class var_type var_nlevels estimate std.error
   [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m 1[39m (Int~ (Interc~ Custom i~ [31mNA[39m        interce~          [31mNA[39m   3.56       0.507
[90m 2[39m Clas~ Class    Passenge~ character categor~           4  -[31m1[39m[31m.[39m[31m74[39m       0.589
[90m 3[39m Clas~ Class    Passenge~ character categor~           4  -[31m3[39m[31m.[39m[31m71[39m       0.531
[90m 4[39m Clas~ Class    Passenge~ character categor~           4  -[31m1[39m[31m.[39m[31m66[39m       0.800
[90m 5[39m AgeC~ Age      Age       character dichoto~           2  11.0      883.   
[90m 6[39m SexM~ Sex      Gender    character dichoto~           2  -[31m4[39m[31m.[39m[31m28[39m       0.532
[90m 7[39m Clas~ Class:A~ Custom l~ [31mNA[39m        interac~          [31mNA[39m   3.53    [4m1[24m066.   
[90m 8[39m Clas~ Class:A~ Custom l~ [31mNA[39m        interac~          [31mNA[39m -[31m11[39m[31m.[39m[31m0[39m      883.   
[90m 9[39m Clas~ Class:A~ Custom l~ [31mNA[39m        interac~          [31mNA[39m  [31mNA[39m         [31mNA[39m    
[90m10[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m   0.068[4m0[24m     0.671
[90m11[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m   2.80       0.569
[90m12[39m Clas~ Class:S~ Passenge~ [31mNA[39m        interac~          [31mNA[39m   1.14       0.820
[90m13[39m AgeC~ Age:Sex  Age * Ge~ [31mNA[39m        interac~          [31mNA[39m   5.25    [4m1[24m091.   
[90m14[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m  -[31m1[39m[31m.[39m[31m19[39m    [4m1[24m383.   
[90m15[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m  -[31m4[39m[31m.[39m[31m57[39m    [4m1[24m091.   
[90m16[39m Clas~ Class:A~ Passenge~ [31mNA[39m        interac~          [31mNA[39m  [31mNA[39m         [31mNA[39m    
[90m# ... with 2 more variables: statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_attach_model")
> ### * tidy_attach_model
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_attach_model
> ### Title: Attach a full model to the tibble of model terms
> ### Aliases: tidy_attach_model tidy_and_attach tidy_get_model
> ###   tidy_detach_model
> 
> ### ** Examples
> 
> mod <- lm(Sepal.Length ~ Sepal.Width + Species, data = iris)
> tt <- mod %>%
+   tidy_and_attach(conf.int = TRUE)
> tt
[90m# A tibble: 4 x 7[39m
  term              estimate std.error statistic  p.value conf.low conf.high
  [3m[90m<chr>[39m[23m                [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m    [3m[90m<dbl>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Intercept)          2.25      0.370      6.09 9.57[90me[39m[31m- 9[39m    1.52       2.98
[90m2[39m Sepal.Width          0.804     0.106      7.56 4.19[90me[39m[31m-12[39m    0.593      1.01
[90m3[39m Speciesversicolor    1.46      0.112     13.0  3.48[90me[39m[31m-26[39m    1.24       1.68
[90m4[39m Speciesvirginica     1.95      0.100     19.5  2.09[90me[39m[31m-42[39m    1.75       2.14
> tidy_get_model(tt)

Call:
lm(formula = Sepal.Length ~ Sepal.Width + Species, data = iris)

Coefficients:
      (Intercept)        Sepal.Width  Speciesversicolor   Speciesvirginica  
           2.2514             0.8036             1.4587             1.9468  

> 
> 
> 
> cleanEx()
> nameEx("tidy_identify_variables")
> ### * tidy_identify_variables
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_identify_variables
> ### Title: Identify the variable corresponding to each model coefficient
> ### Aliases: tidy_identify_variables
> 
> ### ** Examples
> 
> Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived, c("No", "Yes"))) %>%
+   glm(Survived ~ Class + Age * Sex, data = ., weights = .$n, family = binomial) %>%
+   tidy_and_attach() %>%
+   tidy_identify_variables()
[90m# A tibble: 7 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176    12.4  
[90m2[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m0[39m[31m3[39m      0.200    -[31m5[39m[31m.[39m[31m17[39m 
[90m3[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m81[39m      0.176   -[31m10[39m[31m.[39m[31m3[39m  
[90m4[39m Clas~ Class    character categor~           4   -[31m0[39m[31m.[39m[31m803[39m     0.160    -[31m5[39m[31m.[39m[31m0[39m[31m3[39m 
[90m5[39m AgeC~ Age      character dichoto~           2   -[31m0[39m[31m.[39m[31m110[39m     0.335    -[31m0[39m[31m.[39m[31m328[39m
[90m6[39m SexM~ Sex      character dichoto~           2   -[31m2[39m[31m.[39m[31m62[39m      0.151   -[31m17[39m[31m.[39m[31m3[39m  
[90m7[39m AgeC~ Age:Sex  [31mNA[39m        interac~          [31mNA[39m    1.90      0.433     4.39 
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> 
> lm(
+   Sepal.Length ~ poly(Sepal.Width, 2) + Species,
+   data = iris,
+   contrasts = list(Species = contr.sum)
+ ) %>%
+   tidy_and_attach(conf.int = TRUE) %>%
+   tidy_identify_variables()
[90m# A tibble: 5 x 11[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m   5.84      0.035[4m9[24m   163.   
[90m2[39m poly~ Sepal.W~ nmatrix.2 continu~          [31mNA[39m   4.27      0.568      7.52 
[90m3[39m poly~ Sepal.W~ nmatrix.2 continu~          [31mNA[39m  -[31m0[39m[31m.[39m[31m0[39m[31m72[4m0[24m[39m    0.447     -[31m0[39m[31m.[39m[31m161[39m
[90m4[39m Spec~ Species  factor    categor~           3  -[31m1[39m[31m.[39m[31m13[39m      0.064[4m7[24m   -[31m17[39m[31m.[39m[31m5[39m  
[90m5[39m Spec~ Species  factor    categor~           3   0.324     0.059[4m3[24m     5.46 
[90m# ... with 3 more variables: p.value [3m[90m<dbl>[90m[23m, conf.low [3m[90m<dbl>[90m[23m, conf.high [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_plus_plus")
> ### * tidy_plus_plus
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_plus_plus
> ### Title: Tidy a model and compute additional informations
> ### Aliases: tidy_plus_plus
> 
> ### ** Examples
> 
> ex1 <- lm(Sepal.Length ~ Sepal.Width + Species, data = iris) %>%
+   tidy_plus_plus()
> ex1
[90m# A tibble: 4 x 16[39m
  term  variable var_label var_class var_type var_nlevels contrasts
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m    
[90m1[39m Sepa~ Sepal.W~ Sepal.Wi~ numeric   continu~          [31mNA[39m [31mNA[39m       
[90m2[39m Spec~ Species  Species   factor    categor~           3 contr.tr~
[90m3[39m Spec~ Species  Species   factor    categor~           3 contr.tr~
[90m4[39m Spec~ Species  Species   factor    categor~           3 contr.tr~
[90m# ... with 9 more variables: contrasts_type [3m[90m<chr>[90m[23m, reference_row [3m[90m<lgl>[90m[23m,[39m
[90m#   label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m, std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m,[39m
[90m#   p.value [3m[90m<dbl>[90m[23m, conf.low [3m[90m<dbl>[90m[23m, conf.high [3m[90m<dbl>[90m[23m[39m
> 
> df <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(
+     Survived = factor(Survived, c("No", "Yes"))
+   ) %>%
+   labelled::set_variable_labels(
+     Class = "Passenger's class",
+     Sex = "Gender"
+   )
> 
> ex2 <- glm(
+   Survived ~ Class + Age * Sex,
+   data = df, weights = df$n,
+   family = binomial
+ ) %>%
+   tidy_plus_plus(
+     exponentiate = TRUE,
+     add_reference_rows = FALSE,
+     categorical_terms_pattern = "{level} / {reference_level}"
+   )
> ex2
[90m# A tibble: 6 x 15[39m
  term  variable var_label var_class var_type var_nlevels contrasts
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<chr>[39m[23m    
[90m1[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m2[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m3[39m Clas~ Class    Passenge~ character categor~           4 contr.tr~
[90m4[39m AgeC~ Age      Age       character dichoto~           2 contr.tr~
[90m5[39m SexM~ Sex      Gender    character dichoto~           2 contr.tr~
[90m6[39m AgeC~ Age:Sex  Age * Ge~ [31mNA[39m        interac~          [31mNA[39m [31mNA[39m       
[90m# ... with 8 more variables: contrasts_type [3m[90m<chr>[90m[23m, label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m,[39m
[90m#   std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m, p.value [3m[90m<dbl>[90m[23m, conf.low [3m[90m<dbl>[90m[23m,[39m
[90m#   conf.high [3m[90m<dbl>[90m[23m[39m
> 
> if (requireNamespace("gtsummary")) {
+   ex3 <- glm(
+     response ~ poly(age, 3) + stage + grade * trt,
+     na.omit(gtsummary::trial),
+     family = binomial,
+     contrasts = list(
+       stage = contr.treatment(4, base = 3),
+       grade = contr.sum
+     )
+   ) %>%
+     tidy_plus_plus(
+       exponentiate = TRUE,
+       variable_labels = c(age = "Age (in years)"),
+       add_header_rows = TRUE,
+       show_single_row = all_dichotomous(),
+       term_labels = c("poly(age, 3)3" = "Cubic age"),
+       keep_model = TRUE
+     )
+   ex3
+ }
[90m# A tibble: 17 x 17[39m
   term  variable var_label var_class var_type var_nlevels header_row contrasts
   [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m [3m[90m<lgl>[39m[23m      [3m[90m<chr>[39m[23m    
[90m 1[39m [31mNA[39m    age      Age (in ~ nmatrix.3 continu~          [31mNA[39m TRUE       [31mNA[39m       
[90m 2[39m poly~ age      Age (in ~ nmatrix.3 continu~          [31mNA[39m FALSE      [31mNA[39m       
[90m 3[39m poly~ age      Age (in ~ nmatrix.3 continu~          [31mNA[39m FALSE      [31mNA[39m       
[90m 4[39m poly~ age      Age (in ~ nmatrix.3 continu~          [31mNA[39m FALSE      [31mNA[39m       
[90m 5[39m [31mNA[39m    stage    T Stage   factor    categor~           4 TRUE       contr.tr~
[90m 6[39m stag~ stage    T Stage   factor    categor~           4 FALSE      contr.tr~
[90m 7[39m stag~ stage    T Stage   factor    categor~           4 FALSE      contr.tr~
[90m 8[39m stag~ stage    T Stage   factor    categor~           4 FALSE      contr.tr~
[90m 9[39m stag~ stage    T Stage   factor    categor~           4 FALSE      contr.tr~
[90m10[39m [31mNA[39m    grade    Grade     factor    categor~           3 TRUE       contr.sum
[90m11[39m grad~ grade    Grade     factor    categor~           3 FALSE      contr.sum
[90m12[39m grad~ grade    Grade     factor    categor~           3 FALSE      contr.sum
[90m13[39m grad~ grade    Grade     factor    categor~           3 FALSE      contr.sum
[90m14[39m trtD~ trt      Chemothe~ character dichoto~           2 [31mNA[39m         contr.tr~
[90m15[39m [31mNA[39m    grade:t~ Grade * ~ [31mNA[39m        interac~          [31mNA[39m TRUE       [31mNA[39m       
[90m16[39m grad~ grade:t~ Grade * ~ [31mNA[39m        interac~          [31mNA[39m FALSE      [31mNA[39m       
[90m17[39m grad~ grade:t~ Grade * ~ [31mNA[39m        interac~          [31mNA[39m FALSE      [31mNA[39m       
[90m# ... with 9 more variables: contrasts_type [3m[90m<chr>[90m[23m, reference_row [3m[90m<lgl>[90m[23m,[39m
[90m#   label [3m[90m<chr>[90m[23m, estimate [3m[90m<dbl>[90m[23m, std.error [3m[90m<dbl>[90m[23m, statistic [3m[90m<dbl>[90m[23m,[39m
[90m#   p.value [3m[90m<dbl>[90m[23m, conf.low [3m[90m<dbl>[90m[23m, conf.high [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_remove_intercept")
> ### * tidy_remove_intercept
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_remove_intercept
> ### Title: Remove intercept(s)
> ### Aliases: tidy_remove_intercept
> 
> ### ** Examples
> 
> Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived)) %>%
+   glm(Survived ~ Class + Age + Sex, data = ., weights = .$n, family = binomial) %>%
+   tidy_and_attach() %>%
+   tidy_remove_intercept()
[90m# A tibble: 5 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m0[39m[31m2[39m      0.196     -[31m5[39m[31m.[39m[31m19[39m
[90m2[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m78[39m      0.172    -[31m10[39m[31m.[39m[31m4[39m 
[90m3[39m Clas~ Class    character categor~           4   -[31m0[39m[31m.[39m[31m858[39m     0.157     -[31m5[39m[31m.[39m[31m45[39m
[90m4[39m AgeC~ Age      character dichoto~           2    1.06      0.244      4.35
[90m5[39m SexM~ Sex      character dichoto~           2   -[31m2[39m[31m.[39m[31m42[39m      0.140    -[31m17[39m[31m.[39m[31m2[39m 
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> cleanEx()
> nameEx("tidy_select_variables")
> ### * tidy_select_variables
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: tidy_select_variables
> ### Title: Select variables to keep/drop
> ### Aliases: tidy_select_variables
> 
> ### ** Examples
> 
> res <- Titanic %>%
+   dplyr::as_tibble() %>%
+   dplyr::mutate(Survived = factor(Survived)) %>%
+   glm(Survived ~ Class + Age * Sex, data = ., weights = .$n, family = binomial) %>%
+   tidy_and_attach() %>%
+   tidy_identify_variables()
> 
> res
[90m# A tibble: 7 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176    12.4  
[90m2[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m0[39m[31m3[39m      0.200    -[31m5[39m[31m.[39m[31m17[39m 
[90m3[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m81[39m      0.176   -[31m10[39m[31m.[39m[31m3[39m  
[90m4[39m Clas~ Class    character categor~           4   -[31m0[39m[31m.[39m[31m803[39m     0.160    -[31m5[39m[31m.[39m[31m0[39m[31m3[39m 
[90m5[39m AgeC~ Age      character dichoto~           2   -[31m0[39m[31m.[39m[31m110[39m     0.335    -[31m0[39m[31m.[39m[31m328[39m
[90m6[39m SexM~ Sex      character dichoto~           2   -[31m2[39m[31m.[39m[31m62[39m      0.151   -[31m17[39m[31m.[39m[31m3[39m  
[90m7[39m AgeC~ Age:Sex  [31mNA[39m        interac~          [31mNA[39m    1.90      0.433     4.39 
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_select_variables()
[90m# A tibble: 7 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176    12.4  
[90m2[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m0[39m[31m3[39m      0.200    -[31m5[39m[31m.[39m[31m17[39m 
[90m3[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m81[39m      0.176   -[31m10[39m[31m.[39m[31m3[39m  
[90m4[39m Clas~ Class    character categor~           4   -[31m0[39m[31m.[39m[31m803[39m     0.160    -[31m5[39m[31m.[39m[31m0[39m[31m3[39m 
[90m5[39m AgeC~ Age      character dichoto~           2   -[31m0[39m[31m.[39m[31m110[39m     0.335    -[31m0[39m[31m.[39m[31m328[39m
[90m6[39m SexM~ Sex      character dichoto~           2   -[31m2[39m[31m.[39m[31m62[39m      0.151   -[31m17[39m[31m.[39m[31m3[39m  
[90m7[39m AgeC~ Age:Sex  [31mNA[39m        interac~          [31mNA[39m    1.90      0.433     4.39 
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_select_variables(include = "Class")
[90m# A tibble: 4 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176     12.4 
[90m2[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m0[39m[31m3[39m      0.200     -[31m5[39m[31m.[39m[31m17[39m
[90m3[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m81[39m      0.176    -[31m10[39m[31m.[39m[31m3[39m 
[90m4[39m Clas~ Class    character categor~           4   -[31m0[39m[31m.[39m[31m803[39m     0.160     -[31m5[39m[31m.[39m[31m0[39m[31m3[39m
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_select_variables(include = -c("Age", "Sex"))
[90m# A tibble: 5 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176     12.4 
[90m2[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m0[39m[31m3[39m      0.200     -[31m5[39m[31m.[39m[31m17[39m
[90m3[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m81[39m      0.176    -[31m10[39m[31m.[39m[31m3[39m 
[90m4[39m Clas~ Class    character categor~           4   -[31m0[39m[31m.[39m[31m803[39m     0.160     -[31m5[39m[31m.[39m[31m0[39m[31m3[39m
[90m5[39m AgeC~ Age:Sex  [31mNA[39m        interac~          [31mNA[39m    1.90      0.433      4.39
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_select_variables(include = starts_with("A"))
[90m# A tibble: 3 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176    12.4  
[90m2[39m AgeC~ Age      character dichoto~           2   -[31m0[39m[31m.[39m[31m110[39m     0.335    -[31m0[39m[31m.[39m[31m328[39m
[90m3[39m AgeC~ Age:Sex  [31mNA[39m        interac~          [31mNA[39m    1.90      0.433     4.39 
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_select_variables(include = all_categorical())
[90m# A tibble: 6 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176    12.4  
[90m2[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m0[39m[31m3[39m      0.200    -[31m5[39m[31m.[39m[31m17[39m 
[90m3[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m81[39m      0.176   -[31m10[39m[31m.[39m[31m3[39m  
[90m4[39m Clas~ Class    character categor~           4   -[31m0[39m[31m.[39m[31m803[39m     0.160    -[31m5[39m[31m.[39m[31m0[39m[31m3[39m 
[90m5[39m AgeC~ Age      character dichoto~           2   -[31m0[39m[31m.[39m[31m110[39m     0.335    -[31m0[39m[31m.[39m[31m328[39m
[90m6[39m SexM~ Sex      character dichoto~           2   -[31m2[39m[31m.[39m[31m62[39m      0.151   -[31m17[39m[31m.[39m[31m3[39m  
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_select_variables(include = all_dichotomous())
[90m# A tibble: 3 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176    12.4  
[90m2[39m AgeC~ Age      character dichoto~           2   -[31m0[39m[31m.[39m[31m110[39m     0.335    -[31m0[39m[31m.[39m[31m328[39m
[90m3[39m SexM~ Sex      character dichoto~           2   -[31m2[39m[31m.[39m[31m62[39m      0.151   -[31m17[39m[31m.[39m[31m3[39m  
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_select_variables(include = all_interaction())
[90m# A tibble: 2 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m     2.18     0.176     12.4 
[90m2[39m AgeC~ Age:Sex  [31mNA[39m        interac~          [31mNA[39m     1.90     0.433      4.39
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> res %>% tidy_select_variables(
+   include = c("Age", all_categorical(dichotomous = FALSE), all_interaction())
+ )
[90m# A tibble: 6 x 9[39m
  term  variable var_class var_type var_nlevels estimate std.error statistic
  [3m[90m<chr>[39m[23m [3m[90m<chr>[39m[23m    [3m[90m<chr>[39m[23m     [3m[90m<chr>[39m[23m          [3m[90m<int>[39m[23m    [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m     [3m[90m<dbl>[39m[23m
[90m1[39m (Int~ (Interc~ [31mNA[39m        interce~          [31mNA[39m    2.18      0.176    12.4  
[90m2[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m0[39m[31m3[39m      0.200    -[31m5[39m[31m.[39m[31m17[39m 
[90m3[39m Clas~ Class    character categor~           4   -[31m1[39m[31m.[39m[31m81[39m      0.176   -[31m10[39m[31m.[39m[31m3[39m  
[90m4[39m Clas~ Class    character categor~           4   -[31m0[39m[31m.[39m[31m803[39m     0.160    -[31m5[39m[31m.[39m[31m0[39m[31m3[39m 
[90m5[39m AgeC~ Age      character dichoto~           2   -[31m0[39m[31m.[39m[31m110[39m     0.335    -[31m0[39m[31m.[39m[31m328[39m
[90m6[39m AgeC~ Age:Sex  [31mNA[39m        interac~          [31mNA[39m    1.90      0.433     4.39 
[90m# ... with 1 more variable: p.value [3m[90m<dbl>[90m[23m[39m
> 
> 
> 
> ### * <FOOTER>
> ###
> cleanEx()
> options(digits = 7L)
> base::cat("Time elapsed: ", proc.time() - base::get("ptime", pos = 'CheckExEnv'),"\n")
Time elapsed:  17.2 0.73 20.86 NA NA 
> grDevices::dev.off()
null device 
          1 
> ###
> ### Local variables: ***
> ### mode: outline-minor ***
> ### outline-regexp: "\\(> \\)?### [*]+" ***
> ### End: ***
> quit('no')
