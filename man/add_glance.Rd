% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_glance.R
\name{add_glance}
\alias{add_glance}
\alias{add_glance_table}
\alias{add_glance_source_note}
\title{Add Model Statistics}
\usage{
add_glance_table(
  x,
  include = everything(),
  label = NULL,
  fmt_fun = NULL,
  glance_fun = broom::glance
)

add_glance_source_note(
  x,
  include = everything(),
  label = NULL,
  fmt_fun = NULL,
  glance_fun = broom::glance,
  text_interpret = c("md", "html"),
  sep1 = " = ",
  sep2 = "; "
)
}
\arguments{
\item{x}{'tbl_regression' object}

\item{include}{list of statistics to include in output. Must be column
names of the tibble returned by \code{broom::glance()}. The include argument
can also be used to specify the order the statistics appear in the table.}

\item{label}{List of formulas specifying statistic labels,
e.g. \code{list(r.squared ~ "R2", p.value ~ "P")}}

\item{fmt_fun}{List of formulas where the LHS is a statistic and the RHS
is a function to format/round the statistics. The default is to round
the number of observations and degrees of freedom to the nearest integer,
p-values are styled with \code{style_pvalue()} and the remaining statistics
are styled with \code{style_sigfig(x, digits = 3)}}

\item{glance_fun}{function that returns model statistics. Default is
\code{broom::glance()}. Custom functions must return a single row tibble.}

\item{text_interpret}{String indicates whether source note text
will be interpreted with
\code{\link[gt:md]{gt::md()}} or \code{\link[gt:html]{gt::html()}}. Must be \code{"md"} (default) or \code{"html"}.}

\item{sep1}{Separator between statistic name and statistic.
Default is \code{" = "}, e.g. \code{"R2 = 0.456"}}

\item{sep2}{Separator between statistics. Default is \code{"; "}}
}
\value{
gtsummary table
}
\description{
Add model statistics returned from \code{broom::glance()}. Statistics can either
be appended to the table (\code{add_glance_table()}), or added as a
table source note (\code{add_glance_source_note()}).
}
\section{Default Labels}{

The following statistics have set default labels when printed.
When there is no default, the column name from \code{broom::glance()} is printed.<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Statistic Name </th>
   <th style="text-align:left;"> Default Label </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> r.squared </td>
   <td style="text-align:left;"> R² </td>
  </tr>
  <tr>
   <td style="text-align:left;"> adj.r.squared </td>
   <td style="text-align:left;"> Adjusted R² </td>
  </tr>
  <tr>
   <td style="text-align:left;"> p.value </td>
   <td style="text-align:left;"> p-value </td>
  </tr>
  <tr>
   <td style="text-align:left;"> logLik </td>
   <td style="text-align:left;"> Log-likelihood </td>
  </tr>
  <tr>
   <td style="text-align:left;"> statistic </td>
   <td style="text-align:left;"> Statistic </td>
  </tr>
  <tr>
   <td style="text-align:left;"> df.residual </td>
   <td style="text-align:left;"> Residual df </td>
  </tr>
  <tr>
   <td style="text-align:left;"> null.deviance </td>
   <td style="text-align:left;"> Null deviance </td>
  </tr>
  <tr>
   <td style="text-align:left;"> df.null </td>
   <td style="text-align:left;"> Null df </td>
  </tr>
  <tr>
   <td style="text-align:left;"> nevent </td>
   <td style="text-align:left;"> N events </td>
  </tr>
  <tr>
   <td style="text-align:left;"> concordance </td>
   <td style="text-align:left;"> c-index </td>
  </tr>
  <tr>
   <td style="text-align:left;"> std.error.concordance </td>
   <td style="text-align:left;"> c-index SE </td>
  </tr>
  <tr>
   <td style="text-align:left;"> nobs </td>
   <td style="text-align:left;"> No. Obs. </td>
  </tr>
  <tr>
   <td style="text-align:left;"> deviance </td>
   <td style="text-align:left;"> Deviance </td>
  </tr>
  <tr>
   <td style="text-align:left;"> sigma </td>
   <td style="text-align:left;"> Sigma </td>
  </tr>
</tbody>
</table>
}

\section{Tips}{

When combining \code{add_glance_table()} with \code{tbl_merge()}, the
ordering of the model terms and the glance statistics may become jumbled.
To re-order the rows with glance statistics on bottom, use the script below:\if{html}{\out{<div class="sourceCode r">}}\preformatted{tbl_merge(list(tbl1, tbl2)) \%>\%
  modify_table_body(~.x \%>\% arrange(row_type == "glance_statistic"))
}\if{html}{\out{</div>}}
}

\section{Example Output}{

\if{html}{Example 1}

\if{html}{\figure{add_glance_ex1.png}{options: width=35\%}}

\if{html}{Example 2}

\if{html}{\figure{add_glance_ex2.png}{options: width=35\%}}
}

\examples{
mod <- lm(age ~ marker + grade, trial) \%>\% tbl_regression()

# Example 1 ----------------------------------
add_glance_ex1 <-
  mod \%>\%
  add_glance_table(
    label = list(sigma ~ "\U03C3"),
    include = c(r.squared, AIC, sigma)
  )

# Example 2 ----------------------------------
add_glance_ex2 <-
  mod \%>\%
  add_glance_source_note(
    label = list(sigma ~ "\U03C3"),
    include = c(r.squared, AIC, sigma)
  )
}
\seealso{
Review \link[=syntax]{list, formula, and selector syntax} used throughout gtsummary
}
