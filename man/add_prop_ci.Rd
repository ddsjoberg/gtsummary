% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_prop_ci.R
\name{add_prop_ci}
\alias{add_prop_ci}
\title{Add Proportion CIs}
\usage{
add_prop_ci(
  x,
  pattern = "{conf.low}, {conf.high}",
  method = c("wilson", "exact", "asymptotic"),
  conf.level = 0.95,
  ci_fun = function(x) style_percent(x, symbol = TRUE)
)
}
\arguments{
\item{x}{A \code{tbl_summary} object}

\item{pattern}{String indicating how the confidence interval will be placed.
Default is \code{"{conf.low}, {conf.high}"}}

\item{method}{Confidence interval method. Must be one of
\code{c("wilson", "exact", "asymptotic")}. Default is \code{"wilson"}.
See \code{Hmisc::binconf(method=)} for details.}

\item{conf.level}{Confidence level. Default is \code{0.95}}

\item{ci_fun}{Function to style upper and lower bound of confidence
interval. Default is \code{style_percent(x, symbol = TRUE)}.}
}
\value{
gtsummary table
}
\description{
Add a new column with the confidence intervals for proportions.
}
\section{Example Output}{

\if{html}{Example 1}

\if{html}{\figure{add_prop_ci_ex1.png}{options: width=50\%}}

\if{html}{Example 2}

\if{html}{\figure{add_prop_ci_ex2.png}{options: width=45\%}}
}

\examples{
# Example 1 ----------------------------------
add_prop_ci_ex1 <-
  trial \%>\%
  select(response, trt) \%>\%
  tbl_summary(missing = "no") \%>\%
  add_prop_ci()

# Example 2 ----------------------------------
add_prop_ci_ex2 <-
  trial \%>\%
    select(response, trt) \%>\%
    tbl_summary(statistic = all_categorical() ~ "{p}\%",
                missing = "no") \%>\%
    add_prop_ci() \%>\%
    modify_table_styling(
      columns = stat_0,
      rows = !is.na(ci),
      cols_merge_pattern = "{stat_0} ({ci})"
    ) \%>\%
    modify_footnote(everything() ~ NA)
}
