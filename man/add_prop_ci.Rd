% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_prop_ci.R
\name{add_prop_ci}
\alias{add_prop_ci}
\alias{add_prop_ci.tbl_summary}
\title{Add Proportion CIs}
\usage{
add_prop_ci(x, ...)

\method{add_prop_ci}{tbl_summary}(
  x,
  pattern = "{conf.low}\%, {conf.high}\%",
  method = c("wilson", "wilson.no.correct", "exact", "asymptotic"),
  conf.level = 0.95,
  ci_fun = NULL,
  ...
)
}
\arguments{
\item{x}{A \code{tbl_summary} object}

\item{...}{Not used}

\item{pattern}{String indicating how the confidence interval will be placed.
Default is \code{"{conf.low}\%, {conf.high}\%"}}

\item{method}{Confidence interval method. Must be one of
\code{c("wilson", "wilson.no.correct", "exact", "asymptotic")}. Default is \code{"wilson"}.
See details below.}

\item{conf.level}{Confidence level. Default is \code{0.95}}

\item{ci_fun}{Function to style upper and lower bound of confidence
interval. Default is the function that styled the proportion in the
original \code{tbl_summary()} call.}
}
\value{
gtsummary table
}
\description{
Add a new column with the confidence intervals for proportions.
}
\section{method argument}{

Methods \code{c("wilson", "wilson.no.correct")} are calculated with \code{prop.test()}.
The default method, \code{"wilson"}, includes the Yates continuity correction.
Methods \code{c("exact", "asymptotic")} are calculated with \code{Hmisc::binconf(method=)}.
}

\section{Example Output}{

\if{html}{Example 1}

\if{html}{\figure{add_prop_ci_ex1.png}{options: width=50\%}}

\if{html}{Example 2}

\if{html}{\figure{add_prop_ci_ex2.png}{options: width=45\%}}
}

\examples{
# Example 1 ----------------------------------
add_prop_ci_ex1 <-
  trial \%>\%
  select(response, trt) \%>\%
  tbl_summary(missing = "no") \%>\%
  add_prop_ci()

# Example 2 ----------------------------------
add_prop_ci_ex2 <-
  trial \%>\%
    select(response, trt) \%>\%
    tbl_summary(statistic = all_categorical() ~ "{p}\%",
                missing = "no") \%>\%
    add_prop_ci() \%>\%
    modify_cols_merge(
      rows = !is.na(prop_ci_stat_0),
      pattern = "{stat_0} ({prop_ci_stat_0})"
    ) \%>\%
    modify_footnote(everything() ~ NA)
}
\seealso{
Other tbl_summary tools: 
\code{\link{add_n.tbl_summary}()},
\code{\link{add_overall}()},
\code{\link{add_p.tbl_summary}()},
\code{\link{add_q}()},
\code{\link{add_stat_label}()},
\code{\link{bold_italicize_labels_levels}},
\code{\link{inline_text.tbl_summary}()},
\code{\link{inline_text.tbl_survfit}()},
\code{\link{modify}},
\code{\link{tbl_merge}()},
\code{\link{tbl_stack}()},
\code{\link{tbl_summary}()}
}
\concept{tbl_summary tools}
